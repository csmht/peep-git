{% extends "base.html" %}

{% block title %}ä¸»é¡µ - PEEP GIT{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="toolbar cute-toolbar">
    <div class="toolbar-group">
        <label for="date-range">ğŸ“… æ—¶é—´èŒƒå›´:</label>
        <select id="date-range" class="form-control">
            <option value="7">æœ€è¿‘ 7 å¤©</option>
            <option value="14">æœ€è¿‘ 14 å¤©</option>
            <option value="30" selected>æœ€è¿‘ 30 å¤©</option>
            <option value="90">æœ€è¿‘ 90 å¤©</option>
        </select>
    </div>

    <div class="toolbar-group">
        <label for="repo-filter">ğŸ“ ä»“åº“:</label>
        <select id="repo-filter" class="form-control">
            <option value="">å…¨éƒ¨ä»“åº“</option>
        </select>
    </div>

    <button id="refresh-btn" class="btn btn-primary">
        <span class="btn-icon">ğŸ”„</span>
        <span>åˆ·æ–°ä¸€ä¸‹</span>
    </button>
</div>

<div class="dashboard">
    <!-- ç»Ÿè®¡å¡ç‰‡ -->
    <div class="stats-cards">
        <div class="stat-card cute-card">
            <div class="stat-icon">ğŸ’–</div>
            <div class="stat-value" id="total-commits">-</div>
            <div class="stat-label">æ€»æäº¤æ•°</div>
        </div>
        <div class="stat-card cute-card">
            <div class="stat-icon">âœˆï¸</div>
            <div class="stat-value" id="total-pushes">-</div>
            <div class="stat-label">æ€»æ¨é€æ•°</div>
        </div>
        <div class="stat-card cute-card">
            <div class="stat-icon">ğŸŒŸ</div>
            <div class="stat-value" id="active-repos">-</div>
            <div class="stat-label">æ´»è·ƒä»“åº“</div>
        </div>
        <div class="stat-card cute-card">
            <div class="stat-icon">ğŸ“ˆ</div>
            <div class="stat-value" id="avg-commits">-</div>
            <div class="stat-label">æ—¥å‡æäº¤</div>
        </div>
    </div>

    <!-- å›¾è¡¨åŒºåŸŸ -->
    <div class="charts-container">
        <div class="chart-card cute-chart-card">
            <h3>ğŸ“Š æäº¤è¶‹åŠ¿ âœ¨</h3>
            <canvas id="trend-chart"></canvas>
        </div>

        <div class="chart-card cute-chart-card">
            <h3>ğŸ° ä»“åº“åˆ†å¸ƒ âœ¨</h3>
            <canvas id="repo-chart"></canvas>
        </div>

        <div class="chart-card cute-chart-card">
            <h3>ğŸŒ¸ åˆ†æ”¯æ´»è·ƒåº¦ âœ¨</h3>
            <canvas id="branch-chart"></canvas>
        </div>
    </div>

    <!-- æœ€è¿‘æ´»åŠ¨ -->
    <div class="recent-activities cute-section">
        <h3>âœ¨ æœ€è¿‘æ´»åŠ¨ âœ¨</h3>
        <div id="activities-list" class="activities-list">
            <div class="cute-loading">
                <div class="loading-spinner">â™¡</div>
                <span>åŠ è½½ä¸­...</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/charts.js') }}"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% endblock %}
